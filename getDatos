#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(int argc, char *argv[]) {
  // Abrir el fichero
  FILE *fichero = fopen(argv[1], "r");
  if (fichero == NULL) {
    printf("Error al abrir el fichero\n");
    return 1;
  }

  // Obtener el número de estación
  int estacion = atoi(argv[2]);

  // Filtrar la salida por el número de estación
  char linea[100];
  while (fgets(linea, sizeof(linea), fichero)) {
    // Obtener el número de estación de la línea
    int estacion_linea = atoi(strtok(linea, "#"));

    // Si el número de estación coincide, imprimir la línea
    if (estacion == estacion_linea) {
      printf("%s", linea);
    }
  }

  // Cerrar el fichero
  fclose(fichero);

  return 0;
}
